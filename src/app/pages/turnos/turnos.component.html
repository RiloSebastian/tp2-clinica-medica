<div *ngIf='usuario.rol === "Paciente"' class="mx-auto col-11 m-5">
  <div>
    <h3 class="text-left text-uppercase">Turnos</h3>
    <div *ngIf='usuarioTurnos != null' class="table-responsive-xl">
      <table class="table table-striped table-hover table-dark table-bordered text-center">
        <thead class="text-uppercase">
          <tr>
            <th>Profesional</th>
            <th>Especialidad</th>
            <th>Fecha</th>
            <th>Estado</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let turno of usuarioTurnos" [appCambioColorTurno]='turno.estado'>
            <td>{{ turno.profesional }}</td>
            <td>{{ turno.especialidad }}</td>
            <td>{{ turno.fecha | date:'medium' }}</td>
            <td>
              {{ turno.estado }}
               <button *ngIf='turno.estado === "Pendiente" || turno.estado === "Aceptado" || turno.estado === "Preparado"' class="btn btn-danger" (click)='cancelar(turno)'>Cancelar</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <button *ngIf='usuario !== {}' data-toggle="modal" data-target="#modalTurno" class="btn btn-success">Nuevo Turno</button>
</div>
<div *ngIf='usuario.rol === "Profesional"' class="mx-auto col-11 m-5">
  <div>
    <h3 class="text-left text-uppercase">Turnos</h3>
    <div *ngIf='usuarioTurnos != null' class="table-responsive-xl">
      <table class="table table-striped table-hover table-dark table-bordered text-center">
        <thead class="text-uppercase">
          <tr>
            <th>Paciente</th>
            <th>Especialidad</th>
            <th>Fecha</th>
            <th>Estado</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let turno of usuarioTurnos" [appCambioColorTurno]='turno.estado'>
            <td>{{ turno.paciente }}</td>
            <td>{{ turno.especialidad }}</td>
            <td>{{ turno.fecha | date:'medium' }}</td>
            <td>
              {{ turno.estado }}
              <button *ngIf='turno.estado === "Pendiente"' class="btn btn-primary" (click)='aceptar(turno)'>Aceptar</button>
              <button *ngIf='turno.estado === "Preparado"' class="btn btn-success" (click)='atender(turno)' data-toggle="modal" data-target="#modalTurno">Atender</button>
              <button *ngIf='turno.estado === "Pendiente" || turno.estado === "Aceptado" || turno.estado === "Preparado"' class="btn btn-danger" (click)='cancelar(turno)'>Cancelar</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<div class="modal fade" id="modalTurno" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
    <div class="modal-content bg-dark text-white">
      <app-alta-turno *ngIf='usuario.rol === "Paciente"' [usuario]='usuario' [profesionales]='profesionales'></app-alta-turno>
      <app-historia-clinica *ngIf='usuario.rol === "Profesional" && flagTurnoSel' [usuario]='usuario' [turnoSeleccionado]='turnoSeleccionado'></app-historia-clinica>
    </div>
  </div>
</div>
