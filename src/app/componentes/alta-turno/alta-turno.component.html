<div class="modal-header">
  <h5 class="modal-title" id="modal-titulo">
    Nuevo Turno
  </h5>
  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <div class="row">
    <div class="col-lg">
      <div class="table-responsive-lg">
        <table class="table table-striped table-hover table-dark table-bordered text-center">
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Especialidades</th>
              <th>Horarios</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor='let profesional of profesionales' (click)='elegirProfesional(profesional)'>
              <ng-container *ngIf='profesional.habilitado === "Si"'>
                <td>{{profesional.apellido}} {{profesional.nombre}}</td>
                <td>
                  <ul>
                    <li *ngFor='let especialidad of profesional.especialidades'>{{especialidad}}</li>
                  </ul>
                </td>
                <td>
                  <ul>
                    <li *ngFor='let horario of profesional.horarios'>{{horario}}</li>
                  </ul>
                </td>
              </ng-container>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div *ngIf='profesionalSeleccionado !== null' class="col-lg">
      <form #ngForm='ngForm' [formGroup]="turnoForm">
        <div class="form-group bg-dark">
          <div class="form-group form-row">
            <label class="col-md-3 col-form-label" for="inputEspecialidad">
              Especialidad:
            </label>
            <div class="col-md-9">
              <select class="custom-select" id="inputEspecialidad" name="especialidad" formControlName='especialidadI' required>
                <option disabled selected value> -- Elegir una Especialidad -- </option>
                <option *ngFor='let especialidad of profesionalSeleccionado.especialidades' [value]="especialidad">{{especialidad}}</option>
              </select>
              <p *ngIf='ngForm.submitted && this.turnoForm.controls.especialidadI.errors' class="text-danger">no se selecciono una especialidad</p>
            </div>
          </div>
          <div class="form-group form-row">
            <label class="col-md-3 col-form-label" for="inputEspecialidad">
              Dia:
            </label>
            <div class="col-md-9">
              <select class="custom-select" id="inputEspecialidad" name="dia" formControlName='diaI' (change)='elegirDia($event.target.value)' required>
                <option disabled selected value> -- Elegir un Dia -- </option>
                <option *ngFor='let dia of profesionalDias' [value]='dia.getTime()'>{{dia.getTime() | date:'EEE, MMM d, y'}}</option>
              </select>
              <p *ngIf='ngForm.submitted && this.turnoForm.controls.diaI.errors' class="text-danger">no se selecciono un dia</p>
            </div>
          </div>
          <div class="form-group form-row">
            <label class="col-md-3 col-form-label" for="inputEspecialidad">
              Horarios:
            </label>
            <div class="col-md-9">
              <select class="custom-select" id="inputEspecialidad" name="horario" formControlName='horarioI' required>
                <option disabled selected value> -- Elegir un Horario -- </option>
                <option *ngFor='let horario of profesionalHorarios' [value]='horario.getTime()'>{{horario.getTime() | date:'HH:mm'}}hs </option>
              </select>
              <p *ngIf='ngForm.submitted && this.turnoForm.controls.horarioI.errors' class="text-danger">no se selecciono un horario</p>
            </div>
          </div>
        </div>
        <button type="submit" class="btn btn-success float-right" data-dismiss="modal" (click)='guardarTurno(turnoForm.value)'>
          Acepto
        </button>
      </form>
    </div>
  </div>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-danger" data-dismiss="modal">
    Cancelar
  </button>
</div>
